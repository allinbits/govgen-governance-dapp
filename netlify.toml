# This is on `main` branch
[context.production.environment]
  VITE_REPO             = "allinbits/govgen-governance-discussions-test"
  VITE_ENDPOINT         = "https://gh-discuss.govgen.io"
  VITE_GRAPHQL_ENDPOINT = "https://graphql-mainnet.govgen.io/v1/graphql"

# This is on `staging` branch
[context.staging.environment]
  VITE_REPO             = "allinbits/govgen-governance-discussions-test"
  VITE_ENDPOINT         = "https://gh-discuss.devnet.govgen.dev"
  VITE_GRAPHQL_ENDPOINT = "https://graphql-devnet.govgen.dev/v1/graphql"

[context.deploy-preview.environment]
  VITE_REPO             = "allinbits/govgen-governance-discussions-test"
  VITE_ENDPOINT         = "https://gh-discuss.devnet.govgen.dev"
  VITE_GRAPHQL_ENDPOINT = "https://graphql-mainnet.govgen.io/v1/graphql"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  for = "/*"
  [headers.values]
  Access-Control-Allow-Origin = '''
  https://app.govgen.io,
  https://gh-discuss.devnet.govgen.dev
  https://githubusercontent.com
  https://avatars.githubusercontent.com
  '''
  Strict-Transport-Security = "max-age=31536000; includeSubDomains"
  Content-Security-Policy = "default-src 'self'; object-src 'none'; img-src 'self' data: https:; connect-src https://graphql-devnet.govgen.dev/v1/graphql https://gh-discuss.devnet.govgen.dev https://plausible.io/api/event githubusercontent.com *.githubusercontent.com"
  X-Frame-Options = "SAMEORIGIN"
  X-Content-Type-Options = "nosniff"
  Referrer-Policy = "strict-origin"
  X-XSS-Protection = "1; mode=block"
  Set-Cookie = '''
  Secure, 
  SameSite'''
  permissions-policy = '''
  interest-cohort=(),
  accelerometer=(),
  autoplay=(),
  camera=(),
  autoplay=(),
  document-domain=(),
  encrypted-media=(),
  geolocation=(),
  gyroscope=(),
  magnetometer=(),
  microphone=(),
  midi=(),
  payment=(),
  usb=(),
  xr-spatial-tracking=()'''
